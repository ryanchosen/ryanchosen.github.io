import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,f as a,o as e}from"./app-Clvqn8oL.js";const l={};function d(p,s){return e(),i("div",null,s[0]||(s[0]=[a(`<h1 id="mysql多种裸部署方式" tabindex="-1"><a class="header-anchor" href="#mysql多种裸部署方式"><span>Mysql多种裸部署方式</span></a></h1><h2 id="linux" tabindex="-1"><a class="header-anchor" href="#linux"><span>Linux</span></a></h2><h3 id="_1-1-源码安装" tabindex="-1"><a class="header-anchor" href="#_1-1-源码安装"><span>1.1 源码安装</span></a></h3><p><strong>下载源码包</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]# wget https://downloads.mysql.com/archives/get/p/23/file/mysql-5.6.46.tar.gz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>安装依赖</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]# yum install -y ncurses-devel libaio-devel gcc gcc-c++ glibc cmake autoconf openssl openssl-devel</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>解压</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]# tar xf mysql-5.6.46.tar.gz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>创建目录</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]# mkdir /service</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>生成cmake</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]# cd mysql-5.6.46/</span></span>
<span class="line"><span>[root@db01 ~]# cmake . -DCMAKE_INSTALL_PREFIX=/service/mysql-5.6.46 \\</span></span>
<span class="line"><span>-DMYSQL_DATADIR=/service/mysql-5.6.46/data \\</span></span>
<span class="line"><span>-DMYSQL_UNIX_ADDR=/service/mysql-5.6.46/tmp/mysql.sock \\</span></span>
<span class="line"><span>-DDEFAULT_CHARSET=utf8 \\</span></span>
<span class="line"><span>-DDEFAULT_COLLATION=utf8_general_ci \\</span></span>
<span class="line"><span>-DWITH_EXTRA_CHARSETS=all \\</span></span>
<span class="line"><span>-DWITH_INNOBASE_STORAGE_ENGINE=1 \\</span></span>
<span class="line"><span>-DWITH_FEDERATED_STORAGE_ENGINE=1 \\</span></span>
<span class="line"><span>-DWITH_BLACKHOLE_STORAGE_ENGINE=1 \\</span></span>
<span class="line"><span>-DWITHOUT_EXAMPLE_STORAGE_ENGINE=1 \\</span></span>
<span class="line"><span>-DWITH_ZLIB=bundled \\</span></span>
<span class="line"><span>-DWITH_SSL=system \\</span></span>
<span class="line"><span>-DENABLED_LOCAL_INFILE=1 \\</span></span>
<span class="line"><span>-DWITH_EMBEDDED_SERVER=1 \\</span></span>
<span class="line"><span>-DENABLE_DOWNLOADS=1 \\</span></span>
<span class="line"><span>-DWITH_DEBUG=0</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#程序存放位置</span></span>
<span class="line"><span>cmake . -DCMAKE_INSTALL_PREFIX=/service/mysql-5.6.46 \\</span></span>
<span class="line"><span>#数据存放位置</span></span>
<span class="line"><span>-DMYSQL_DATADIR=/service/mysql-5.6.46/data \\</span></span>
<span class="line"><span>#socket文件存放位置</span></span>
<span class="line"><span>-DMYSQL_UNIX_ADDR=/service/mysql-5.6.46/tmp/mysql.sock \\</span></span>
<span class="line"><span>#使用utf8字符集</span></span>
<span class="line"><span>-DDEFAULT_CHARSET=utf8 \\</span></span>
<span class="line"><span>#校验规则</span></span>
<span class="line"><span>-DDEFAULT_COLLATION=utf8_general_ci \\</span></span>
<span class="line"><span>#使用其他额外的字符集</span></span>
<span class="line"><span>-DWITH_EXTRA_CHARSETS=all \\</span></span>
<span class="line"><span>#支持的存储引擎</span></span>
<span class="line"><span>-DWITH_INNOBASE_STORAGE_ENGINE=1 \\</span></span>
<span class="line"><span>-DWITH_FEDERATED_STORAGE_ENGINE=1 \\</span></span>
<span class="line"><span>-DWITH_BLACKHOLE_STORAGE_ENGINE=1 \\</span></span>
<span class="line"><span>#禁用的存储引擎</span></span>
<span class="line"><span>-DWITHOUT_EXAMPLE_STORAGE_ENGINE=1 \\</span></span>
<span class="line"><span>#启用zlib库支持（zib、gzib相关）</span></span>
<span class="line"><span>-DWITH_ZLIB=bundled \\</span></span>
<span class="line"><span>#启用SSL库支持（安全套接层）</span></span>
<span class="line"><span>-DWITH_SSL=bundled \\</span></span>
<span class="line"><span>#启用本地数据导入支持</span></span>
<span class="line"><span>-DENABLED_LOCAL_INFILE=1 \\</span></span>
<span class="line"><span>#编译嵌入式服务器支持</span></span>
<span class="line"><span>-DWITH_EMBEDDED_SERVER=1 \\</span></span>
<span class="line"><span># mysql5.6支持了google的c++mock框架了，允许下载，否则会安装报错。</span></span>
<span class="line"><span>-DENABLE_DOWNLOADS=1 \\</span></span>
<span class="line"><span>#禁用debug（默认为禁用）</span></span>
<span class="line"><span>-DWITH_DEBUG=0</span></span>
<span class="line"><span>#编译</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>编译make</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 mysql-5.6.46]# make</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>安装make install</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 mysql-5.6.46]# make install</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>做软连接</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]# ln -s /service/mysql-5.6.46 /service/mysql</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>创建数据库用户</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]# useradd mysql -s /sbin/nologin -M</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>拷贝配置文件和启动文件</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#1.进入配置文件和脚本的目录</span></span>
<span class="line"><span>[root@db01 ~]# cd /service/mysql/support-files/</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#2.拷贝配置文件</span></span>
<span class="line"><span>[root@db01 support-files]# cp my-default.cnf /etc/my.cnf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>配置system管理MySOL服务</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#1.配置system管理MySQL</span></span>
<span class="line"><span>[root@db01 ~]# vim /usr/lib/systemd/system/mysql.service</span></span>
<span class="line"><span>[Unit]</span></span>
<span class="line"><span>Description=MySQL Server</span></span>
<span class="line"><span>Documentation=man:mysqld(8)</span></span>
<span class="line"><span>Documentation=https://dev.mysql.com/doc/refman/en/using-systemd.html</span></span>
<span class="line"><span>After=network.target</span></span>
<span class="line"><span>After=syslog.target</span></span>
<span class="line"><span>[Install]</span></span>
<span class="line"><span>WantedBy=multi-user.target</span></span>
<span class="line"><span>[Service]</span></span>
<span class="line"><span>User=mysql</span></span>
<span class="line"><span>Group=mysql</span></span>
<span class="line"><span>ExecStart=/service/mysql/bin/mysqld --defaults-file=/etc/my.cnf</span></span>
<span class="line"><span>LimitNOFILE = 5000</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#2.重新加载启动文件列表</span></span>
<span class="line"><span>[root@db01 ~]# systemctl daemon-reload</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>初始化数据库</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#1.进入初始化目录</span></span>
<span class="line"><span>[root@db01 support-files]# cd /service/mysql/scripts/</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#2.执行初始化命令</span></span>
<span class="line"><span>[root@db01 scripts]# ./mysql_install_db --user=mysql --basedir=/service/mysql --datadir=/service/mysql/data</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>创建socket文件自录（二进制安装没有）</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#先创建tmp目录</span></span>
<span class="line"><span>[root@db01 ~]# mkdir /service/mysql/tmp</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>授权数据库目录</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]# chown -R mysql.mysql /service/mysql</span></span>
<span class="line"><span>[root@db01 ~]# chown -R mysql.mysql /service/mysql-5.6.46</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>system管理启动Mysql</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]# systemctl start mysql</span></span>
<span class="line"><span>[root@db01 ~]# ps -ef | grep [m]ysql</span></span>
<span class="line"><span>mysql     23509      1  3 22:36 ?        00:00:01 /usr/local/mysql/bin/mysqld --defaults-file=/etc/my.cnf</span></span>
<span class="line"><span>[root@db01 ~]# netstat -lntp | grep 3306</span></span>
<span class="line"><span>tcp6       0      0 :::3306                 :::*                    LISTEN      23509/mysqld</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>配置环境变量直接使用mysql</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]# vim /etc/profile.d/mysql.sh </span></span>
<span class="line"><span>export PATH=/service/mysql/bin:$PATH</span></span>
<span class="line"><span>[root@db01 ~]# source /etc/profile</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>修改root用户密码</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]# mysql -u root -p         #默认root用户密码为空，有多种方式重置root密码</span></span>
<span class="line"><span>第一种：</span></span>
<span class="line"><span>MySQL &gt; SET PASSWORD=PASSWORD(&#39;123456&#39;);</span></span>
<span class="line"><span>Query OK, 0 rows affected (0.00 sec)</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>第二种：</span></span>
<span class="line"><span>MySQL &gt; grant all privileges on *.* to root@&#39;%&#39; identified by &#39;ryansu&#39;;</span></span>
<span class="line"><span>Query OK, 0 rows affected (0.00 sec)</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>mysql&gt; flush privileges;</span></span>
<span class="line"><span>Query OK, 0 rows affected (0.00 sec)</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>注意：两种重置密码方式有区别。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-二进制安装" tabindex="-1"><a class="header-anchor" href="#_1-2-二进制安装"><span>1.2 二进制安装</span></a></h3><p><strong>下载二进制包</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]# wget https://downloads.mysql.com/archives/get/p/23/file/mysql-5.6.46-linux-glibc2.12-x86_64.tar.gz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>安装依赖</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]# yum install -y ncurses-devel libaio-devel gcc gcc-c++ glibc cmake autoconf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>解压安装包</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]# tar xf mysql-5.6.46-linux-glibc2.12-x86_64.tar.gz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>创建自定义目录</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]# mkdir /service</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>移动目录并改名</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]# mv mysql-5.6.46-linux-glibc2.12-x86_64 /service/mysql-5.6.46</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>做软连接</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]# ln -s /service/mysql-5.6.46 /service/mysql</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>创建数据库用户</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]# useradd mysql -s /sbin/nologin -M</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>拷贝配置文件和启动文件</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#1.进入配置文件和脚本的目录</span></span>
<span class="line"><span>[root@db01 ~]# cd /service/mysql/support-files/</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#2.拷贝配置文件</span></span>
<span class="line"><span>[root@db01 support-files]# cp my-default.cnf /etc/my.cnf</span></span>
<span class="line"><span>cp: overwrite ‘/etc/my.cnf’? y</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#3.拷贝启动脚本</span></span>
<span class="line"><span>[root@db01 support-files]# cp mysql.server /etc/init.d/mysqld</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>初始化数据库</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#1.进入初始化目录</span></span>
<span class="line"><span>[root@db01 support-files]# cd /service/mysql/scripts/</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#2.执行初始化命令</span></span>
<span class="line"><span>[root@db01 scripts]# ./mysql_install_db --user=mysql --basedir=/service/mysql --datadir=/service/mysql/data</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>如果是二进制安装到自定义自录下需要修改脚本自录</strong><br> 本例中就安装到了/service目录下，所以需要修改脚本中的默认路径</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 scripts]# sed -i &#39;s#/usr/local#/service#g&#39; /etc/init.d/mysqld /service/mysql/bin/mysqld_safe</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>授权数据库目录</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]# chown -R mysql.mysql /service/mysql</span></span>
<span class="line"><span>[root@db01 ~]# chown -R mysql.mysql /service/mysql-5.6.46</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>再次启动</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 scripts]# /etc/init.d/mysqld start</span></span>
<span class="line"><span>Starting MySQL.Logging to &#39;/service/mysql/data/db04.err&#39;.</span></span>
<span class="line"><span> SUCCESS! </span></span>
<span class="line"><span>[root@db01 scripts]#</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>检查进程和端口</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 scripts]# ps -ef | grep [m]ysql</span></span>
<span class="line"><span>root      23083      1  0 20:36 pts/0    00:00:00 /bin/sh /usr/local/mysql/bin/mysqld_safe --datadir=/usr/local/mysql/data --pid-file=/usr/local/mysql/data/db02.pid</span></span>
<span class="line"><span>mysql     23191  23083  0 20:36 pts/0    00:00:00 /usr/local/mysql/bin/mysqld --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data --plugin-dir=/usr/local/mysql/lib/plugin --user=mysql --log-error=db02.err --pid-file=/usr/local/mysql/data/db02.pid</span></span>
<span class="line"><span>[root@db01 scripts]# netstat -lntp | grep 3306</span></span>
<span class="line"><span>tcp6       0      0 :::3306                 :::*                    LISTEN      23191/mysqld        </span></span>
<span class="line"><span>[root@db01 scripts]#</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>配置system管理Mysql服务</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#1.配置system管理MySQL</span></span>
<span class="line"><span>[root@db01 ~]# vim /usr/lib/systemd/system/mysql.service</span></span>
<span class="line"><span>[Unit]</span></span>
<span class="line"><span>Description=MySQL Server</span></span>
<span class="line"><span>Documentation=man:mysqld(8)</span></span>
<span class="line"><span>Documentation=https://dev.mysql.com/doc/refman/en/using-systemd.html</span></span>
<span class="line"><span>After=network.target</span></span>
<span class="line"><span>After=syslog.target</span></span>
<span class="line"><span>[Install]</span></span>
<span class="line"><span>WantedBy=multi-user.target</span></span>
<span class="line"><span>[Service]</span></span>
<span class="line"><span>User=mysql</span></span>
<span class="line"><span>Group=mysql</span></span>
<span class="line"><span>ExecStart=/service/mysql/bin/mysqld --defaults-file=/etc/my.cnf</span></span>
<span class="line"><span>LimitNOFILE = 5000</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#2.重新加载启动文件列表</span></span>
<span class="line"><span>[root@db01 ~]# systemctl daemon-reload</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>查看Mysql配置文件检索顺序</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 mysql]# /service/mysql/bin/mysql --help|grep &#39;my.cnf&#39;</span></span>
<span class="line"><span>                      order of preference, my.cnf, $MYSQL_TCP_PORT,</span></span>
<span class="line"><span>/etc/my.cnf /etc/mysql/my.cnf /usr/local/mysql/etc/my.cnf ~/.my.cnf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>配置my.cnf</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#1.配置指定数据库安装目录与数据目录</span></span>
<span class="line"><span>[root@db01 scripts]# vim /etc/my.cnf</span></span>
<span class="line"><span>[mysqld]</span></span>
<span class="line"><span>basedir=/service/mysql</span></span>
<span class="line"><span>datadir=/service/mysql/data</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#2.启动</span></span>
<span class="line"><span>[root@db01 scripts]# systemctl start mysql</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>配置环境变量直接使用mysql</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]# vim /etc/profile.d/mysql.sh </span></span>
<span class="line"><span>export PATH=/service/mysql/bin:$PATH</span></span>
<span class="line"><span>[root@db01 ~]# source /etc/profile</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3-yum安装" tabindex="-1"><a class="header-anchor" href="#_1-3-yum安装"><span>1.3 YUM安装</span></a></h3><p><strong>配置MySQL的yum源</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]# cat /etc/yum.repos.d/mysql-community.repo</span></span>
<span class="line"><span># Enable to use MySQL 5.6</span></span>
<span class="line"><span>[mysql56-community]</span></span>
<span class="line"><span>name=MySQL 5.6 Community Server</span></span>
<span class="line"><span>baseurl=http://repo.mysql.com/yum/mysql-5.6-community/el/7/$basearch/</span></span>
<span class="line"><span>enabled=1</span></span>
<span class="line"><span>gpgcheck=0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>检查存储库是否正确配置</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]#  yum repolist enabled | grep mysql</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>禁用默认的MySQL模块</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]# sudo yum module disable mysql</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>安装MySQL</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]# sudo yum install mysql-community-server</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>启动MySQL</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]#  sudo service mysqld start</span></span>
<span class="line"><span>Starting mysqld (via systemctl):                           [  OK  ]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>检查MySQL运行状态</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]# sudo service mysqld status</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>保护运行MySQL</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db01 ~]# mysql_secure_installation</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_1-4-mysql5-6与5-7安装时的区别" tabindex="-1"><a class="header-anchor" href="#_1-4-mysql5-6与5-7安装时的区别"><span>1.4 Mysql5.6与5.7安装时的区别</span></a></h3><p><strong>cmake的时候加入了bostorg</strong><br> 建议使用二进制的包安装，已经过了cmake阶段，已经把bostorg装好了</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[root@db02 mysql-5.7.20]# yum install -y gcc gcc-c++ automake autoconf</span></span>
<span class="line"><span>[root@db02 mysql-5.7.20]# yum install make cmake bison-devel ncurses-devel libaio-devel</span></span>
<span class="line"><span>[root@db02 mysql-5.7.20]#</span></span>
<span class="line"><span>wget httpss://dl.bintray.com/boostorg/release/1.65.1/source/boost_1_59_0.tar.gz</span></span>
<span class="line"><span>#登录boost.org下载也可以</span></span>
<span class="line"><span>[root@db02 mysql-5.7.20]# tar xf boost_1_59_0.tar.gz -C /usr/local/</span></span>
<span class="line"><span>[root@db02 mysql-5.7.20]#</span></span>
<span class="line"><span>cmake . -DCMAKE_INSTALL_PREFIX=/application/mysql-5.7.20 \\</span></span>
<span class="line"><span>-DMYSQL_DATADIR=/application/mysql-5.7.20/data \\</span></span>
<span class="line"><span>-DMYSQL_UNIX_ADDR=/application/mysql-5.7.20/tmp/mysql.sock \\</span></span>
<span class="line"><span>#安装bostorg</span></span>
<span class="line"><span>-DDOWNLOAD_BOOST=1 \\</span></span>
<span class="line"><span>#安装的目录</span></span>
<span class="line"><span>-DWITH_BOOST=/usr/local/boost_1_59_0 \\</span></span>
<span class="line"><span>-DDEFAULT_CHARSET=utf8 \\</span></span>
<span class="line"><span>-DDEFAULT_COLLATION=utf8_general_ci \\</span></span>
<span class="line"><span>-DWITH_EXTRA_CHARSETS=all \\</span></span>
<span class="line"><span>-DWITH_INNOBASE_STORAGE_ENGINE=1 \\</span></span>
<span class="line"><span>-DWITH_FEDERATED_STORAGE_ENGINE=1 \\</span></span>
<span class="line"><span>-DWITH_BLACKHOLE_STORAGE_ENGINE=1 \\</span></span>
<span class="line"><span>-DWITHOUT_EXAMPLE_STORAGE_ENGINE=1 \\</span></span>
<span class="line"><span>-DWITH_ZLIB=bundled \\</span></span>
<span class="line"><span>-DWITH_SSL=bundled \\</span></span>
<span class="line"><span>-DENABLED_LOCAL_INFILE=1 \\</span></span>
<span class="line"><span>-DWITH_EMBEDDED_SERVER=1 \\</span></span>
<span class="line"><span>-DENABLE_DOWNLOADS=1 \\</span></span>
<span class="line"><span>-DWITH_DEBUG=0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>初始化时使用的命令不一样了</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#5.6初始化命令</span></span>
<span class="line"><span>/service/mysql/scripts/mysql_install_db --user= --basedir= --datadir=</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#5.7初始化命令</span></span>
<span class="line"><span>/usr/local/mysql/bin/mysqld --initialize --user= --basedir= --datadir=</span></span>
<span class="line"><span>#初始--initialize会生成一个临时的随机密码，他会告诉你位置，你自己去找使用密码登录，而且修改密码也需要一个很复杂的密码，大小写数字特殊符号</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#想不让他生成密码的话，还可以用另外一个参数--initialize-insecure</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>mysql5.7初始密码</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># yum安装完毕mysql5.7，首次初始启动msyql会生成root的随机密码</span></span>
<span class="line"><span># 可以通过下述命令查看</span></span>
<span class="line"><span>grep &quot;temporary password&quot; /var/log/mysqld.log</span></span>
<span class="line"><span> </span></span>
<span class="line"><span># 查看到随机密码后，登录，注意密码用单引号引起来，因为随机密码中可能有特殊字符</span></span>
<span class="line"><span>mysql -uroot -p &#39;随机密码&#39;</span></span>
<span class="line"><span> </span></span>
<span class="line"><span># 设置密码，密码已经不能再用弱密码了，弱密码会报错</span></span>
<span class="line"><span>set password=password(&quot;Ryan@123&quot;);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="windows" tabindex="-1"><a class="header-anchor" href="#windows"><span>Windows</span></a></h2><h3 id="_2-1-安装" tabindex="-1"><a class="header-anchor" href="#_2-1-安装"><span>2.1 安装</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#1、下载：MySQL Community Server 5.7.16</span></span>
<span class="line"><span>http://dev.mysql.com/downloads/mysql/</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#2、解压</span></span>
<span class="line"><span>如果想要让MySQL安装在指定目录，那么就将解压后的文件夹移动到指定目录，如：C:\\mysql-5.7.16-winx64</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#3、添加环境变量</span></span>
<span class="line"><span>【右键计算机】--》【属性】--》【高级系统设置】--》【高级】--》【环境变量】--》【在第二个内容框中找到 变量名为Path 的一行，双击】 --&gt; 【将MySQL的bin目录路径追加到变值值中，用 ； 分割】</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#4、初始化</span></span>
<span class="line"><span>mysqld --initialize-insecure</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#5、启动MySQL服务</span></span>
<span class="line"><span>mysqld # 启动MySQL服务</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#6、启动MySQL客户端并连接MySQL服务</span></span>
<span class="line"><span>mysql -u root -p # 连接MySQL服务器</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-将mysql服务制作成windows系统服务" tabindex="-1"><a class="header-anchor" href="#_2-2-将mysql服务制作成windows系统服务"><span>2.2 将Mysql服务制作成windows系统服务</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>上一步解决了一些问题，但不够彻底，因为在执行【mysqd】启动MySQL服务器时，当前终端会被hang住，那么做一下设置即可解决此问题：</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>注意：--install前，必须用mysql启动命令的绝对路径</span></span>
<span class="line"><span># 制作MySQL的Windows服务，在终端执行此命令：</span></span>
<span class="line"><span>&quot;c:\\mysql-5.7.16-winx64\\bin\\mysqld&quot; --install</span></span>
<span class="line"><span> </span></span>
<span class="line"><span># 移除MySQL的Windows服务，在终端执行此命令：</span></span>
<span class="line"><span>&quot;c:\\mysql-5.7.16-winx64\\bin\\mysqld&quot; --remove</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>注册成服务之后，以后再启动和关闭MySQL服务时，仅需执行如下命令：</span></span>
<span class="line"><span># 启动MySQL服务</span></span>
<span class="line"><span>net start mysql</span></span>
<span class="line"><span> </span></span>
<span class="line"><span># 关闭MySQL服务</span></span>
<span class="line"><span>net stop mysql</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,99)]))}const t=n(l,[["render",d]]),o=JSON.parse('{"path":"/docs/bare-deployment/mysql.html","title":"Mysql多种裸部署方式","lang":"zh-CN","frontmatter":{"date":"2019-05-04T00:00:00.000Z","category":["软件安装"],"description":"Mysql多种裸部署方式 Linux 1.1 源码安装 下载源码包 安装依赖 解压 创建目录 生成cmake 编译make 安装make install 做软连接 创建数据库用户 拷贝配置文件和启动文件 配置system管理MySOL服务 初始化数据库 创建socket文件自录（二进制安装没有） 授权数据库目录 system管理启动Mysql 配置环境...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Mysql多种裸部署方式\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2019-05-04T00:00:00.000Z\\",\\"dateModified\\":\\"2025-06-05T12:14:01.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Ryan Su\\"}]}"],["meta",{"property":"og:url","content":"https://mister-hope.github.io/docs/bare-deployment/mysql.html"}],["meta",{"property":"og:site_name","content":"Blog"}],["meta",{"property":"og:title","content":"Mysql多种裸部署方式"}],["meta",{"property":"og:description","content":"Mysql多种裸部署方式 Linux 1.1 源码安装 下载源码包 安装依赖 解压 创建目录 生成cmake 编译make 安装make install 做软连接 创建数据库用户 拷贝配置文件和启动文件 配置system管理MySOL服务 初始化数据库 创建socket文件自录（二进制安装没有） 授权数据库目录 system管理启动Mysql 配置环境..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-06-05T12:14:01.000Z"}],["meta",{"property":"article:published_time","content":"2019-05-04T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-06-05T12:14:01.000Z"}]]},"git":{"createdTime":1749042530000,"updatedTime":1749125641000,"contributors":[{"name":"苏雨鸿","username":"","email":"563607356@qq.com","commits":2}]},"readingTime":{"minutes":6.54,"words":1961},"filePathRelative":"docs/bare-deployment/mysql.md","excerpt":"\\n<h2>Linux</h2>\\n<h3>1.1 源码安装</h3>\\n<p><strong>下载源码包</strong></p>\\n<div class=\\"language- line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span>[root@db01 ~]# wget https://downloads.mysql.com/archives/get/p/23/file/mysql-5.6.46.tar.gz</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{t as comp,o as data};
