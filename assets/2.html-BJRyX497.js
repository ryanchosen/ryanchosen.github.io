import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,f as s,o as t}from"./app-C-UrHOVr.js";const i="/assets/2.image-2-CXzjOCKh.png",r="/assets/2.image-3-B7yDKlc0.png",o={};function l(p,n){return t(),e("div",null,n[0]||(n[0]=[s(`<h1 id="数据库迁移" tabindex="-1"><a class="header-anchor" href="#数据库迁移"><span>数据库迁移</span></a></h1><h2 id="概述" tabindex="-1"><a class="header-anchor" href="#概述"><span>概述</span></a></h2><p>数据库迁移主要有两种方案，一种是导出数据库脚本，然后在新账号创建的数据库中执行，完成导入。这种情况需要停服。<br> 另一种方案，如果需要不停服，则可以使用<a href="https://help.aliyun.com/zh/dts/" target="_blank" rel="noopener noreferrer">数据传输服务DTS</a>, 本文主要讲解DTS方案。</p><h2 id="准备工作" tabindex="-1"><a class="header-anchor" href="#准备工作"><span>准备工作</span></a></h2><ol><li>在新账号购买 RDS 数据库，创建实例。</li><li>参考文章<a href="https://help.aliyun.com/zh/dts/user-guide/configure-ram-authorization-for-cross-account-data-migration-and-synchronization" target="_blank" rel="noopener noreferrer">跨阿里云账号任务如何配置RAM授权</a>, 在原账号处理添加角色，名称如 ram-for-dts，并配置信任策略如下：</li></ol><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>{</span></span>
<span class="line"><span>    &quot;Statement&quot;: [</span></span>
<span class="line"><span>        {</span></span>
<span class="line"><span>            &quot;Action&quot;: &quot;sts:AssumeRole&quot;,</span></span>
<span class="line"><span>            &quot;Effect&quot;: &quot;Allow&quot;,</span></span>
<span class="line"><span>            &quot;Principal&quot;: {</span></span>
<span class="line"><span>                &quot;RAM&quot;: [</span></span>
<span class="line"><span>                    &quot;acs:ram::&lt;阿里云账号ID&gt;:root&quot;</span></span>
<span class="line"><span>                ],</span></span>
<span class="line"><span>                &quot;Service&quot;: [</span></span>
<span class="line"><span>                    &quot;&lt;阿里云账号ID&gt;@dts.aliyuncs.com&quot;</span></span>
<span class="line"><span>                ]</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    ],</span></span>
<span class="line"><span>    &quot;Version&quot;: &quot;1&quot;</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将&lt;阿里云账号ID&gt;，替换成新账号的阿里云账号ID。</p><ol start="3"><li>创建 DTS 实例。</li></ol><p>打开数据传输服务中的数据同步，点击创建任务，根据提示配置任务。左侧配置源数据库信息，也是原账号的数据信息，注意选择“跨账号”,</p><figure><img src="`+i+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>右侧配置目标数据库信息，也就是新账号的数据库信息。</p><p>配置好之后，根据提示进入下一步操作，配置全量同步和增量同步。</p><ol start="4"><li>配置反向同步</li></ol><p>第 3 步配置好了从原账号到新账号的数据同步，然后再添加一个任务，按照类似的操作，配置从新账号到原账号的数据同步。这样就完成了数据双向同步。</p><figure><img src="'+r+'" alt="alt text" tabindex="0" loading="lazy"><figcaption>alt text</figcaption></figure><h2 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料"><span>参考资料</span></a></h2><ul><li><a href="https://help.aliyun.com/zh/dts/getting-started/manage-a-data-migration-task?spm=a2c4g.11174283.0.0.3c7d1cfdQLCBwH" target="_blank" rel="noopener noreferrer">数据迁移操作指导</a>`</li></ul>',17)]))}const m=a(o,[["render",l]]),u=JSON.parse('{"path":"/docs/serviceMigration/2.html","title":"数据库迁移","lang":"zh-CN","frontmatter":{"icon":"pen-to-square","date":"2022-01-06T00:00:00.000Z","category":["阿里云迁移"],"description":"数据库迁移 概述 数据库迁移主要有两种方案，一种是导出数据库脚本，然后在新账号创建的数据库中执行，完成导入。这种情况需要停服。 另一种方案，如果需要不停服，则可以使用数据传输服务DTS, 本文主要讲解DTS方案。 准备工作 在新账号购买 RDS 数据库，创建实例。 参考文章跨阿里云账号任务如何配置RAM授权, 在原账号处理添加角色，名称如 ram-fo...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"数据库迁移\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-01-06T00:00:00.000Z\\",\\"dateModified\\":\\"2025-10-21T09:32:13.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Ryan Su\\"}]}"],["meta",{"property":"og:url","content":"https://mister-hope.github.io/docs/serviceMigration/2.html"}],["meta",{"property":"og:site_name","content":"Blog"}],["meta",{"property":"og:title","content":"数据库迁移"}],["meta",{"property":"og:description","content":"数据库迁移 概述 数据库迁移主要有两种方案，一种是导出数据库脚本，然后在新账号创建的数据库中执行，完成导入。这种情况需要停服。 另一种方案，如果需要不停服，则可以使用数据传输服务DTS, 本文主要讲解DTS方案。 准备工作 在新账号购买 RDS 数据库，创建实例。 参考文章跨阿里云账号任务如何配置RAM授权, 在原账号处理添加角色，名称如 ram-fo..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-10-21T09:32:13.000Z"}],["meta",{"property":"article:published_time","content":"2022-01-06T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-10-21T09:32:13.000Z"}]]},"git":{"createdTime":1761039133000,"updatedTime":1761039133000,"contributors":[{"name":"ryanchosen","username":"ryanchosen","email":"syhchosen@google.com","commits":1,"url":"https://github.com/ryanchosen"}]},"readingTime":{"minutes":1.45,"words":436},"filePathRelative":"docs/serviceMigration/2.md","excerpt":"\\n<h2>概述</h2>\\n<p>数据库迁移主要有两种方案，一种是导出数据库脚本，然后在新账号创建的数据库中执行，完成导入。这种情况需要停服。<br>\\n另一种方案，如果需要不停服，则可以使用<a href=\\"https://help.aliyun.com/zh/dts/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">数据传输服务DTS</a>, 本文主要讲解DTS方案。</p>\\n<h2>准备工作</h2>\\n<ol>\\n<li>在新账号购买 RDS 数据库，创建实例。</li>\\n<li>参考文章<a href=\\"https://help.aliyun.com/zh/dts/user-guide/configure-ram-authorization-for-cross-account-data-migration-and-synchronization\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">跨阿里云账号任务如何配置RAM授权</a>, 在原账号处理添加角色，名称如 ram-for-dts，并配置信任策略如下：</li>\\n</ol>","autoDesc":true}');export{m as comp,u as data};
